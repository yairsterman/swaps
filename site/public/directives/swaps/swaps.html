<div class="swaps-wrapper">
    <!--<div class="icon icon-delete top-corner" ng-click="close()"></div>-->
    <div class="title">{{title}}
        <div class="underline"></div>
    </div>
    <div class="sub-title">
        This way you will appear in other Swappers' searches,<br>
        making it easier for you to find a Swap
    </div>
    <div class="edit-swaps {{popup || toMany?'':'overflow'}}">
        <div class="single-swap" ng-repeat="swap in swaps | orderBy : orderByDeparture | limitTo : limit track by swap._id ">
            <div class="row search-area">
                <div class="search-field left col-sm-4 col-xs-12">
                    <input type="text" class="form-control" placeholder="Anywhere" id="searchCity{{$index}}" ng-model="swap.fullDestination" ng-disabled="saving || editingField != $index" disabled="{{saving || editingField != $index}}" autocomplete city="true">
                </div>
                <div class="search-field col-sm-4 col-xs-12">
                    <input type="text" class="form-control" placeholder="Anytime" id="searchDate{{$index}}" name="searchDate{{$index}}" ng-model="swap.dates" swap-dates="swap" user="user" profile="false"
                           user-city="userCity" locale-format="localeFormat" model-format="modelFormat"  find-travel="true" set-up-swap="true" datepicker
                           data="data" ng-disabled="saving || editingField != $index" disabled="{{saving || editingField != $index}}" >
                    <div class="glyphicon glyphicon glyphicon-remove" ng-click="removeDates(swap)" ng-if="!saving && editingField == $index && swap.dates"></div>
                </div>
                <div class="search-field right col-sm-4 col-xs-12 ">
                    <div class="guests-search">
                        <input type="number" class="form-control guests" placeholder="2" ng-model="swap.guests" min="1" max="8" ng-disabled="saving || editingField != $index" disabled="{{saving || editingField != $index}}">
                    </div>
                </div>
            </div>
            <div class="action">
                <input type="button" class="btn btn-primary btn-send" value="EDIT" ng-click="edit($index, swap)" ng-if="!saving && editingField != $index">
                <input type="button" class="btn btn-primary btn-send" value="SAVE" ng-click="update(swap)" ng-disabled="saving" ng-if="editingField == $index" disabled="{{saving}}">
                <div class="btn btn-danger" ng-click="removeTravelInfo(swap)" ng-if="!saving && editingField != $index" ng-disabled="saving" disabled="{{saving}}">
                    <div class="glyphicon glyphicon-remove">

                    </div>
                </div>
                <input type="button" class="btn btn-primary btn-cancel" value="CANCEL" ng-click="cancel(swap)" ng-disabled="saving" disabled="{{saving}}" ng-if="!saving && editingField == $index">
            </div>
        </div>
    </div>
    <div class="single-swap add-swap">
        <div class="row search-area">
            <div class="search-field left col-sm-4 col-xs-12">
                <input type="text" class="form-control" placeholder="Anywhere" id="addCity1" ng-model="addSwap.fullDestination" ng-disabled="editing" disabled="{{editing}}" autocomplete city="true">
            </div>
            <div class="search-field col-sm-4 col-xs-12">
                <input type="text" class="form-control" placeholder="Anytime" id="searchDateAdd" name="searchDateAdd" ng-model="addSwap.dates" swap-dates="addSwap" user="user" profile="false"
                       user-city="userCity" locale-format="localeFormat" model-format="modelFormat"  find-travel="true" set-up-swap="true" datepicker
                       data="data"  ng-disabled="editing" disabled="{{editing}}">
                <div class="glyphicon glyphicon glyphicon-remove" ng-click="removeDates(addSwap)" ng-if="addSwap.dates"></div>
            </div>
            <div class="search-field right col-sm-4 col-xs-12 ">
                <div class="guests-search">
                    <input type="number" class="form-control guests" id="guests" placeholder="2" ng-model="addSwap.guests" min="1" max="8" ng-disabled="editing" disabled="{{editing}}">
                </div>
            </div>
        </div>
        <div class="action">
            <input type="button" class="btn btn-primary btn-send" value="ADD" ng-click="add()" ng-disabled="saving || editing" disabled="{{saving || editing}}">
        </div>
    </div>
</div>
