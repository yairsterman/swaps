<div class="request-page">
    <div class="top-corner glyphicon glyphicon-remove" ng-click="close()"></div>
    <div class="request-swap {{receipt?'hide-request':''}}" ng-hide="requestComplete">
        <div class="title">
            Request to Swap!
        </div>
        <div ng-if="!chooseDates">
            <div class="sub-title">
                <strong>From:</strong> {{swap.from}}
            </div>
            <div class="sub-title">
                <strong>to:</strong> {{swap.to}}
            </div>
            <div class="sub-title">
                <strong>Swappers:</strong> {{swap.guests}}
            </div>
        </div>
        <div class="sub-title" ng-if="chooseDates">
            <div class="dates">
                <label for="dates">When</label>
                <div class="search-field">
                    <input type="text" class="form-control" id="dates" name="dates" ng-focus="openDate()" ng-model="swap.dates">
                    <div class="glyphicon glyphicon glyphicon-remove" ng-click="removeDates()"></div>
                </div>
            </div>
            <label for="guests">Swappers</label>
            <div class="guests-search">
                <input type="number" class="form-control guests" id="guests" ng-model="swap.guests"
                       min="1" max="8">
            </div>
        </div>
        <div class="send-message">
            <textarea rows="2" cols="20" class="form-control send-text" ng-model="send.message" placeholder="Tell {{profile.firstName}} a little about your trip">
                          </textarea>
        </div>
        <input type="button" class="btn btn-primary btn-swap {{send.message == '' || !swap.from || !swap.to || !swap.guests?'disabled':''}}" value="Request Swap" ng-click="showPayment()" ng-disabled="send.message == '' || !swap.from || !swap.to || !swap.guests">
    </div>
    <div class="payment-receipt {{receipt?'show-receipt':''}} {{payment?'hide-receipt':''}}" ng-hide="requestComplete">
        <div class="deposit-plan">Security Deposit Plan - {{data.securityDeposit[profile.deposit].displayName}}</div>
        <div class="dates"></div>
        <div class="amount">${{depositPlan}} Per Week X {{numberOfWeeks}} {{numberOfWeeks>1?'Weeks':'Week'}} X {{percentage.name}}</div>
        <div class="minus" ng-if="discount">=</div>
        <div class="amount" ng-if="discount">${{totalWithoutDiscount}}</div>
        <div class="minus" ng-if="discount">-</div>
        <div class="amount" ng-if="discount">${{discount.amount}} {{discount.name}}</div>
        <div class="total">Total Payment: ${{total}}</div>
        <div class="buttons">
            <div class="back btn-primary" ng-click="goBack()">
                Back
            </div>
            <div class="back btn-primary" ng-click="goToPayment()">
                Set Deposit
            </div>
        </div>
    </div>
    <div class="payment-area {{payment?'show-payment':''}}" ng-hide="requestComplete">
        <payment ng-if="payment" action="sendRequest()"></payment>
        <div class="loader-wrapper" ng-if="processing">
            <div class="loader">

            </div>
        </div>
    </div>
    <div class="request-complete" ng-if="requestComplete">
        <div class="title"> Your request has been sent</div>
        <div class="btn-primary ok-btn" ng-click="close()">OK</div>
    </div>
</div>
